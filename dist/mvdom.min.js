!function e(n,t,r){function i(s,u){if(!t[s]){if(!n[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=t[s]={exports:{}};n[s][0].call(f.exports,function(e){var t=n[s][1][e];return i(t?t:e)},f,f.exports,e,n,t,r)}return t[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,n,t){"use strict";function r(e,n){return s(!1,e,n)}function i(e,n){return s(!0,e,n)}function o(e,n){for(var t=e;t!==document;){if(t.matches(n))return t;t=t.parentElement}return!1}function s(e,n,t){return"undefined"==typeof n||null===n?null:("undefined"==typeof t&&(t=n,n=document),e?n.querySelectorAll(t):n.querySelector(t))}n.exports={first:r,all:i,closest:o}},{}],2:[function(e,n,t){"use strict";function r(e,n){f.unshift([e,n])}function i(e,n){c.unshift([e,n])}function o(e,n){var t=l.all(e,".dx");t.forEach(function(e){for(var t,r,i=u(e),o=a.val(n,i),s=0,l=f.length;s<l;s++)if(t=f[s][0],e.matches(t)){r=f[s][1],r.call(e,o);break}})}function s(e){var n={},t=l.all(e,".dx");return t.forEach(function(e){for(var t,r,i=u(e),o=0,s=c.length;o<s;o++)if(t=c[o][0],e.matches(t)){r=c[o][1];var l=a.val(n,i),f=r.call(e,l);"undefined"!=typeof f&&a.val(n,i,f);break}}),n}function u(e){for(var n,t=null,r=0,i=e.classList,o=e.classList.length;r<o;r++)if(n=i[r],0===n.indexOf("dx-")){t=n.split("-").slice(1).join(".");break}return t||(t=e.getAttribute("data-dx")),t||(t=e.getAttribute("name")),t}var a=e("./utils.js"),l=e("./dom.js");n.exports={pull:s,push:o,puller:i,pusher:r};var f=[["input[type='checkbox'], input[type='radio']",function(e){var n=this.value||"on";e instanceof Array?e.indexOf(n)>-1&&(this.checked=!0):("on"===n&&e||n===e)&&(this.checked=!0)}],["input",function(e){this.value=e}],["select",function(e){this.value=e}],["textarea",function(e){this.value=e}],["*",function(e){this.innerHTML=e}]],c=[["input[type='checkbox'], input[type='radio']",function(e){var n,t=this.value||"on";if(this.checked&&(n=!t||"on"===t||t,"undefined"!=typeof e)){var r=a.asArray(e);r.push(n),n=r}return n}],["input, select",function(e){return this.value}],["textarea",function(e){return this.value}],["*",function(e){return this.innerHTML}]]},{"./dom.js":1,"./utils.js":6}],3:[function(e,n,t){"use strict";function r(e,n,t,r,i){t instanceof Function&&(r=t,t=null,i=r);var o=s(n,t);u.asArray(e).forEach(function(e){var s=r;t?s=function(e){var n=null,o=e.target,s=e.currentTarget,u=i?i.ctx:null;if(o.matches(t))r.call(u,e);else for(n=e.target.parentNode;null!==n&&n!==s&&n!==document;){if(n.matches(t)){r.call(u,e),n=null;break}n=n.parentNode}}:i&&i.ctx&&(s=function(e){r.call(i.ctx,e)});var a={type:n,listener:r,_listener:s};if(t&&(a.selector=t),i&&i.ns){a.ns=i.ns;var l=u.ensureMap(e,"listenerRefsByNs"),f=u.ensureSet(l,i.ns);f.add(a)}var c=u.ensureMap(e,"listenerDic"),v=u.ensureMap(c,o);return v.set(r,a),e.addEventListener(n,s),this})}function i(e,n,t,r){if(n.ns){var i=n.ns;return void u.asArray(e).forEach(function(e){var n,t=e.listenerDic,r=e.listenerRefsByNs;r&&(n=r.get(i),n&&(n.forEach(function(n){e.removeEventListener(n.type,n._listener);var r=s(n.type,n.selector),i=t.get(r);i.has(n.listener)&&i.delete(n.listener)}),r.delete(i)))})}t instanceof Function&&(r=t,t=null);var o=s(n,t);u.asArray(e).forEach(function(e){var t=u.val(e,["listenerDic",o]);if(!t)return void console.log("WARNING - Cannot do .off() since this type-selector '"+o+"' event was not bound with .on(). We will add support for this later.");if("undefined"==typeof r)t.forEach(function(t){e.removeEventListener(n,t._listener)}),e.listenerDic.delete(o);else{var i=t.get(r);if(!i)return void console.log("WARNING - Cannot do .off() since no listenerRef for "+o+" and function \n"+r+"\n were found. Probably was not registered via on()");e.removeEventListener(n,i._listener),t.delete(r)}})}function o(e,n,t){var r=new CustomEvent(n,Object.assign({},a,t));u.asArray(e).forEach(function(e){e.dispatchEvent(r)})}function s(e,n){var t=e;return n?t+"--"+n:t}var u=e("./utils.js");n.exports={on:r,off:i,trigger:o};var a={bubbles:!0,cancelable:!0}},{"./utils.js":6}],4:[function(e,n,t){"use strict";function r(e){if(null==e)throw"MVDOM INVALID API CALLS: for now, d.hub(name) require a name (no name was given).";var n=f.get(e);return n||(n=Object.create(v,{name:{value:e}}),f.set(e,n),c.set(e,new i(e))),n}function i(e){this.name=e,this.refsByNs=new Map,this.refsByTopic=new Map,this.refsByTopicLabel=new Map}function o(e,n,t,r){var i=[];return e.forEach(function(e){null==n||0===n.length?i.push({topic:e,fun:t,ns:r.ns,ctx:r.ctx}):n.forEach(function(n){i.push({topic:e,label:n,fun:t,ns:r.ns,ctx:r.ctx})})}),i}function s(e){return null==e?e=p:"string"==typeof e&&(e={ns:e}),e}function u(e,n){return e+"-!-"+n}function a(e,n,t){var r={topic:e.topic,label:e.label||t,ns:e.ns};e.fun.call(e.ctx,n,r)}var l=e("./utils.js");n.exports={hub:r};var f=new Map,c=new Map;r.delete=function(e){f.delete(e),c.delete(e)};var v={sub:function(e,n,t,r){"function"==typeof n&&(r=t,t=n,n=null),e=l.splitAndTrim(e,","),null!=n&&(n=l.splitAndTrim(n,",")),r=s(r);var i=c.get(this.name);i.addEvent(e,n,t,r)},unsub:function(e){var n=c.get(this.name);n.removeRefsForNs(e)},pub:function(e,n,t){"undefined"==typeof t&&(t=n,n=null),e=l.splitAndTrim(e,","),null!=n&&(n=l.splitAndTrim(n,","));var r=c.get(this.name),i=null!=n&&n.length>0;i&&r.getRefs(e,n).forEach(function(e){a(e,t)}),r.getRefs(e).forEach(function(e){i?n.forEach(function(n){a(e,t,n)}):a(e,t)})},deleteHub:function(){f.delete(this.name),c.delete(this.name)}};i.prototype.addEvent=function(e,n,t,r){var i=o(e,n,t,r),s=this.refsByNs,a=this.refsByTopic,f=this.refsByTopicLabel;i.forEach(function(e){null!=e.ns&&l.ensureArray(s,e.ns).push(e),null!=e.label?l.ensureArray(f,u(e.topic,e.label)).push(e):l.ensureArray(a,e.topic).push(e)})},i.prototype.getRefs=function(e,n){var t=[],r=this.refsByTopic,i=this.refsByTopicLabel;return e.forEach(function(e){if(null==n||0===n.length){var o=r.get(e);o&&t.push.apply(t,o)}else n.forEach(function(n){var r=i.get(u(e,n));r&&t.push.apply(t,r)})}),t},i.prototype.removeRefsForNs=function(e){var n=this.refsByTopic,t=this.refsByTopicLabel,r=this.refsByNs,i=this.refsByNs.get(e);null!=i&&(i.forEach(function(e){var r;if(null!=e.label){var i=u(e.topic,e.label);r=t.get(i)}else r=n.get(e.topic);for(var o;(o=r.indexOf(e))!==-1;)r.splice(o,1)}),r.delete(e))};var p={}},{"./utils.js":6}],5:[function(e,n,t){"use strict";var r=e("./view.js"),i=e("./event.js"),o=e("./dom.js"),s=e("./dx.js"),u=e("./hub.js"),a=e("./utils.js");e("./view-event.js"),n.exports={hook:r.hook,register:r.register,display:r.display,remove:r.remove,empty:r.empty,on:i.on,off:i.off,trigger:i.trigger,first:o.first,all:o.all,closest:o.closest,pull:s.pull,push:s.push,puller:s.puller,pusher:s.pusher,hub:u.hub,val:a.val},window&&(window.mvdom=n.exports)},{"./dom.js":1,"./dx.js":2,"./event.js":3,"./hub.js":4,"./utils.js":6,"./view-event.js":7,"./view.js":8}],6:[function(e,n,t){"use strict";function r(e){return typeof e===v||null===e}function i(e){var n=typeof e;if(r(e))return!0;if(e instanceof Array||n===p)return 0===e.length;if(n===d){for(var t in e)return!1;return!0}return!1}function o(e,n,t){var r="undefined"!=typeof t;if(!e)return e;if(!n)return e;var i,o,s,u=n instanceof Array?n:n.split("."),a=e,l=0,f=u.length,c=f-1;for(l;l<f;l++)if(i=u[l],o=a instanceof Map,s=o?a.get(i):a[i],r)l===c?(o?a.set(i,t):a[i]=t,a=t):("undefined"==typeof s&&(s={}),a[i]=s,a=s);else if(a=s,"undefined"==typeof a){a=void 0;break}return r?e:a}function s(e,n){return l(e,n,Map)}function u(e,n){return l(e,n,Set)}function a(e,n){return l(e,n,Array)}function l(e,n,t){var i=e instanceof Map,o=i?e.get(n):e[n];return r(o)&&(o=t===Array?[]:new t,i?e.set(n,o):e[n]=o),o}function f(e){return r(e)?[]:e instanceof Array?e:e.forEach&&"undefined"!=typeof e.length?Array.prototype.slice.call(e):[e]}function c(e,n){return null==e?[]:e.indexOf(n)===-1?[e.trim()]:e.split(n).map(String.trim)}n.exports={isNull:r,isEmpty:i,val:o,ensureMap:s,ensureSet:u,ensureArray:a,asArray:f,splitAndTrim:c};var v="undefined",p="string",d="object"},{}],7:[function(e,n,t){"use strict";function r(e,n,t){var r,i,s,u;for(r in e)i=r.trim().split(";"),s=i[0].trim(),u=null,i.length>1&&(u=i[1].trim()),o.on(n,s,u,e[r],t)}var i=e("./view.js"),o=e("./event.js");i.hook("willInit",function(e){var n={ns:"view_"+e.id,ctx:e};e.events&&r(e.events,e.el,n),e.docEvents&&r(e.docEvents,document,n),e.winEvents&&r(e.windEvents,document,n)}),i.hook("willDetach",function(e){var n={ns:"view_"+e.id};o.off(document,n),o.off(window,n)})},{"./event.js":3,"./view.js":8}],8:[function(e,n,t){"use strict";function r(e,n){E[e].push(n)}function i(e,n,t){var r={name:e,controller:n,config:t};w[e]=r}function o(e,n,t,r){var i=f(e,r);return c(i,t).then(function(){return v(i,t)}).then(function(){return p(i,n,t)}).then(function(){return d(i,t)})}function s(e){m.asArray(e).forEach(function(e){for(a(e);e.lastChild;)e.removeChild(e.lastChild)})}function u(e){m.asArray(e).forEach(function(e){l(e)})}function a(e){var n=m.asArray(g.all(e,".d-view"));n&&(n=n.reverse(),n.forEach(function(e){h(e._view)}))}function l(e){a(e),e._view&&h(e._view),e.parentNode&&e.parentNode.removeChild(e)}function f(e,n){var t=w[e],r=Object.assign({},t.controller);return r.config=Object.assign({},t.config,n),r.id=b++,r}function c(e,n){y("willCreate",e);var t=Promise.resolve(e.create(n));return t.then(function(n){var t=document.createElement("div");t.innerHTML=n;var r=t.firstChild;e.el=r,e.el.classList.add("d-view"),e.el._view=e,y("didCreate",e)})}function v(e,n){y("willInit",e);var t;return e.init&&(t=e.init(n)),Promise.resolve(t).then(function(){y("didInit",e)})}function p(e,n,t){return y("willDisplay",e),n.appendChild(e.el),y("didDisplay",e),new Promise(function(e,n){setTimeout(function(){e()},0)})}function d(e,n){return y("willPostDisplay",e),e.postDisplay&&e.postDisplay(n),new Promise(function(n,t){n(e)})}function h(e){y("willDetach",e),e.detached=!0,y("didDetach",e)}function y(e,n){for(var t,r=E[e],i=0,o=r.length;i<o;i++)(t=r[i])(n)}var m=e("./utils.js"),g=e("./dom.js");n.exports={hook:r,register:i,display:o,remove:u,empty:s};var w={},b=0,E={willCreate:[],didCreate:[],willInit:[],didInit:[],willDisplay:[],didDisplay:[],willPostDisplay:[],didPostDisplay:[],willDetach:[],didDetach:[]}},{"./dom.js":1,"./utils.js":6}]},{},[5]);